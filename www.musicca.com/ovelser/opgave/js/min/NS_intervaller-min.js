var MusikipediaNS_intervaller=function(){"use strict";var e,t,a,n,i=function(a){e=a.overskrift,t=new MusikipediaNodebillede({elementSomNodebilledetSkalTilfoejes:document.getElementById("spoergsmaal"),skrivning:!0,fortegnsknapper:a.tekstForFortegnsknapper,maxEnTonePrPosition:!0,svarfunktion:l,svarknaptekst:a.svarknapNodesystem}),t.saetNoegle(a.noegle)},r=function(e,t){return null!==e&&null!==t&&("grundinterval"in e.interval&&"grundinterval"in t.interval&&(e.interval.grundinterval===t.interval.grundinterval&&(!("art"in e.interval&&"art"in t.interval&&e.interval.art!==t.interval.art)&&(!("starttone"in e.interval&&"starttone"in t.interval&&e.interval.starttone!==t.interval.starttone)&&!("retning"in e.interval&&"retning"in t.interval&&e.interval.retning!==t.interval.retning)))))},s=function(i){a=i,document.getElementById("opgaveoverskrift").innerHTML=e.replace("@",a.interval.navn),t.slaaSkrivningTil(!0),a.interval.starttone.laast=!0,n="retning"in a.interval&&("o"===a.interval.retning||"n"===a.interval.retning),n?(t.saetToneserie([[a.interval.starttone],[]]),t.toneserieObjekt().samklange[0].laast=!0):t.saetToneserie([[a.interval.starttone]]),"o"===a.interval.retning?t.saetMinAfstandIStamtonerFraC0(a.interval.starttone.afstandIStamtonerFraC0):t.saetMinAfstandIStamtonerFraC0(),"n"===a.interval.retning?t.saetMaxAfstandIStamtonerFraC0(a.interval.starttone.afstandIStamtonerFraC0):t.saetMaxAfstandIStamtonerFraC0()},l=function(){var e,i,r;e=t.toneserie(!0),n?i=e[1][0]:(i=e[0][0],i.sammeTone(a.interval.starttone)?(e[0][0].laast=!0,i=e[0][1]):e[0][1].laast=!0),i.sammeTone(a.interval.sluttone)||!("art"in a.interval)&&i.afstandIStamtonerFraC0==a.interval.sluttone.afstandIStamtonerFraC0?(MusikipediaOpgave.rigtigtSvar(),i.markering="rigtigTone",i.laast=!0,t.saetToneserie(e),t.blinkForRigtigSvar(MusikipediaOpgave.gaaVidereMedNaesteSpoergsmaal)):(MusikipediaOpgave.forkertSvar(),i.markering="forkertTone",t.saetToneserie(e),n&&(t.toneserieObjekt().samklange[0].laast=!0),r=MusikipediaOpgave.antalForkerteForsoegPaaDetteSporgsmaal()<3,r?MusikipediaOpgave.skrivRespons(MusikipediaOpgave.data().forkertSvar):MusikipediaOpgave.skrivRespons(MusikipediaOpgave.data().forkertSvar_SeDetRigtigeSvar),r?t.angivForkertSvar():t.blinkForForkertSvar(function(){t.slaaSkrivningTil(!1),MusikipediaOpgave.visVissvarknap(o)}))},o=function(){a.interval.starttone.markering="rigtigTone",a.interval.sluttone.markering="rigtigTone",n?t.saetToneserie([[a.interval.starttone],[a.interval.sluttone]],!0):t.saetToneserie([[a.interval.starttone,a.interval.sluttone]],!0)};return{initialisering:function(){MusikipediaOpgave.initialisering("NS_intervaller",i,r,s)}}}();window.addEventListener("load",MusikipediaNS_intervaller.initialisering());