var MusikipediaKS_intervaller=function(){"use strict";var a,e,t,n=function(e){t=e.overskrift,a=new MusikipediaKlaviatur({elementSomKlaviaturetSkalTilfoejes:document.getElementById("spoergsmaal"),skrivning:!0,maxEnTone:!0,svarfunktion:s,svarknaptekst:e.svarknapNodesystem,tilladSvarKunMedLaasteTangenter:!1})},r=function(a,e){return null!==a&&null!==e&&("grundinterval"in a.interval&&"grundinterval"in e.interval&&(a.interval.grundinterval===e.interval.grundinterval&&(!("art"in a.interval&&"art"in e.interval&&a.interval.art!==e.interval.art)&&(!("starttone"in a.interval&&"starttone"in e.interval&&a.interval.starttone.afstandIHalvtonerFraC0%12!=e.interval.starttone.afstandIHalvtonerFraC0%12)&&!("retning"in a.interval&&"retning"in e.interval&&a.interval.retning!==e.interval.retning)))))},i=function(n){e=n,document.getElementById("opgaveoverskrift").innerHTML=t.replace("@",e.interval.navn),a.slaaSkrivningTil(!0),e.interval.starttone.laast=!0,a.saetSamklang([e.interval.starttone])},s=function(){var t,n,r,i,s,v;if(t=a.samklang().toner,n=t[0],n.sammeTone(e.interval.starttone)&&(n=t[1]),"art"in e.interval)i=n.afstandIHalvtonerFraC0===e.interval.sluttone.afstandIHalvtonerFraC0;else switch(s=n.afstandIHalvtonerFraC0-e.interval.starttone.afstandIHalvtonerFraC0,v=!("retning"in e.interval)||"n"!==e.interval.retning,v||(s=-s),e.interval.grundinterval){case 2:i=1===s||2===s;break;case 3:i=3===s||4===s;break;case 4:i=5===s||6===s&&(v&&e.interval.starttone.afstandIHalvtonerFraC0%12==5||!v&&e.interval.starttone.afstandIHalvtonerFraC0%12==11);break;case 5:i=7===s||6===s&&(v&&e.interval.starttone.afstandIHalvtonerFraC0%12==11||!v&&e.interval.starttone.afstandIHalvtonerFraC0%12==5);break;case 6:i=8===s||9===s;break;case 7:i=10===s||11===s;break;case 8:i=12===s;break;case 9:i=13===s||14===s;break;case 10:i=15===s||16===s;break;case 11:i=17===s||18===s&&(v&&e.interval.starttone.afstandIHalvtonerFraC0%12==5||!v&&e.interval.starttone.afstandIHalvtonerFraC0%12==11);break;case 12:i=19===s||18===s&&(v&&e.interval.starttone.afstandIHalvtonerFraC0%12==11||!v&&e.interval.starttone.afstandIHalvtonerFraC0%12==5);break;case 13:i=20===s||21===s;break;case 14:i=22===s||23===s;break;case 15:i=24===s;break;default:i=!1}i?(MusikipediaOpgave.rigtigtSvar(),e.interval.starttone.markering="rigtigTone",n.markering="rigtigTone",n.laast=!0,a.saetSamklang([e.interval.starttone,n]),a.blinkForRigtigSvar(MusikipediaOpgave.gaaVidereMedNaesteSpoergsmaal)):(MusikipediaOpgave.forkertSvar(),n.markering="forkertTone",a.saetSamklang(t),r=MusikipediaOpgave.antalForkerteForsoegPaaDetteSporgsmaal()<3,r?MusikipediaOpgave.skrivRespons(MusikipediaOpgave.data().forkertSvar):MusikipediaOpgave.skrivRespons(MusikipediaOpgave.data().forkertSvar_SeDetRigtigeSvar),r?a.angivForkertSvar():a.blinkForForkertSvar(function(){a.slaaSkrivningTil(!1),MusikipediaOpgave.visVissvarknap(l)}))},l=function(){e.interval.starttone.markering="rigtigTone",e.interval.starttone.laast=!0,e.interval.sluttone.markering="rigtigTone",e.interval.sluttone.laast=!0,a.saetSamklang([e.interval.starttone,e.interval.sluttone])};return{initialisering:function(){MusikipediaOpgave.initialisering("KS_intervaller",n,r,i)}}}();window.addEventListener("load",MusikipediaKS_intervaller.initialisering());