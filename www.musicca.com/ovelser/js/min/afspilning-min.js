var MusikipediaAfspilning=function(){"use strict";var i,n,e;function l(){null!==i&&(i.playing()?t():s())}function a(n){null!==i&&("Space"!==n.code&&" "!==n.key||(i.playing()?t():s()))}function s(l){if(void 0!==l){let a="/ovelser/instruments/"+l;"/files/"==l.substring(0,7)&&(a=l),null!==i&&(i.stop(),i.unload(),i=null),i=new Howl({src:[a],preload:!0,volume:1,loop:!1,autoplay:!e,mute:!1,rate:1,onplay:function(){n.src=Musikipedia.mappe()+"grafik/ikoner/lydafspilles.png",n.style.display="inline"},onend:function(){n.src=Musikipedia.mappe()+"grafik/ikoner/afspillyd.png",n.style.display="inline"},html5:!0,onfade:function(){i.stop(),n.src=Musikipedia.mappe()+"grafik/ikoner/afspillyd.png"}})}i.volume(1),e?(n.src=Musikipedia.mappe()+"grafik/ikoner/afspillyd.png",n.style.display="inline"):i.play(),e=!1}var t=function(){null!==i&&i.fade(1,0,500)};return{initialisation:function(s){e=!0,i=null,(n=document.createElement("img")).width=32,n.height=32,n.style.display="none",s.appendChild(n),n.addEventListener("click",l),document.addEventListener("keydown",a)},play:s,stop:t,hide:function(){n.style.display="none"},preload:function(i){if(void 0!==i){let n="/ovelser/instruments/"+i;"/files/"==i.substring(0,7)&&(n=i);new Howl({src:[n],preload:!0,autoplay:!1})}}}}();